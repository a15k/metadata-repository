{
  "swagger": "2.0",
  "info": {
    "title": "Assessment Network Metadata API V1",
    "version": "v1"
  },
  "basePath": "/api",
  "securityDefinitions": {
    "apiToken": {
      "type": "apiKey",
      "name": "Metadata-Api-Token",
      "in": "header"
    }
  },
  "definitions": {
    "resource": {
      "$ref": "public/schemas/api/v1/resource.schema.json"
    }
  },
  "paths": {
    "/resources": {
      "get": {
        "summary": "List Resources created by the current application",
        "tags": [
          "Resource"
        ],
        "operationId": "getResources",
        "schemes": [
          "https"
        ],
        "produces": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "responses": {
          "400": {
            "description": "missing api token",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "400",
                    "code": "missing_api_token",
                    "title": "Missing API Token",
                    "detail": "No API token was provided in the Metadata-Api-Token header."
                  }
                ]
              }
            }
          },
          "403": {
            "description": "invalid api token",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "403",
                    "code": "invalid_api_token",
                    "title": "Invalid API Token",
                    "detail": "The API token provided in the Metadata-Api-Token header (efe5b709540dcf17cd2d034718da32bcb1ceb338f5d2940487bbc0057a340b4a) is invalid."
                  }
                ]
              }
            }
          },
          "200": {
            "description": "success",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "data": [
                  {
                    "id": "7d1ea827-432b-4dd6-bd0f-7dbf19c6d7ac",
                    "type": "resource",
                    "attributes": {
                      "uri": "https://example.com/assessments/7d1ea827-432b-4dd6-bd0f-7dbf19c6d7ac",
                      "resource_type": "assessment",
                      "title": "The fox and the dog",
                      "content": "The quick brown fox jumps over the lazy dog.",
                      "highlight": "\u0026hellip; quick brown fox \u003cb\u003ejumps\u003c/b\u003e over the lazy \u0026hellip;"
                    },
                    "relationships": {
                      "application": {
                        "data": {
                          "id": "318224d1-912a-428e-a153-a702f07334b1",
                          "type": "application"
                        }
                      },
                      "application_user": {
                        "data": {
                          "id": "32407595-5892-43e2-a5c0-ff3cedca0957",
                          "type": "application_user"
                        }
                      },
                      "format": {
                        "data": {
                          "id": "sunt repellat architecto iure veniam dicta in adipisci cumque perspiciatis",
                          "type": "format"
                        }
                      },
                      "language": {
                        "data": {
                          "id": "english",
                          "type": "language"
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "security": [
          {
            "apiToken": []
          }
        ],
        "parameters": [
          {
            "name": "filter[query]",
            "in": "query",
            "type": "string",
            "required": false,
            "description": "Query used for full text search on the Resources"
          },
          {
            "name": "filter[language]",
            "in": "query",
            "type": "string",
            "required": false,
            "description": "Language used for full text search on the Resources"
          },
          {
            "name": "Metadata-Api-Token",
            "in": "header",
            "type": "string",
            "required": true
          }
        ]
      },
      "post": {
        "summary": "Create a new Resource with a random Id",
        "tags": [
          "Resource"
        ],
        "operationId": "createResource",
        "schemes": [
          "https"
        ],
        "produces": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "responses": {
          "400": {
            "description": "missing relationship id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "400",
                    "code": "missing_id",
                    "title": "Missing Id",
                    "detail": "The id member is required by this API endpoint."
                  }
                ]
              }
            }
          },
          "403": {
            "description": "forbidden application id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "403",
                    "code": "forbidden_application_id",
                    "title": "Forbidden Application Id",
                    "detail": "You are only allowed to provide your own application id (318224d1-912a-428e-a153-a702f07334b1)."
                  }
                ]
              }
            }
          },
          "409": {
            "description": "resource uri already exists",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "409",
                    "code": "uri_has_already_been_taken",
                    "title": "Resource Invalid",
                    "detail": "Uri has already been taken."
                  }
                ]
              }
            }
          },
          "201": {
            "description": "resource created",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "data": {
                  "id": "4520bd55-e2f0-46b0-b679-e67943f9658d",
                  "type": "resource",
                  "attributes": {
                    "uri": "https://example.com/assessments/34b351f5-1576-4772-80c7-612d69f7760b",
                    "resource_type": "assessment",
                    "title": null,
                    "content": "iusto consequuntur maiores voluptas doloribus optio non nemo occaecati et",
                    "highlight": null
                  },
                  "relationships": {
                    "application": {
                      "data": {
                        "id": "318224d1-912a-428e-a153-a702f07334b1",
                        "type": "application"
                      }
                    },
                    "application_user": {
                      "data": {
                        "id": "c6e8a544-1034-4a77-9307-d7617e18891b",
                        "type": "application_user"
                      }
                    },
                    "format": {
                      "data": {
                        "id": "quis ut atque vero sapiente qui pariatur adipisci maiores rerum",
                        "type": "format"
                      }
                    },
                    "language": {
                      "data": {
                        "id": "porro voluptatem ex dolorem tempore eum asperiores debitis pariatur accusantium",
                        "type": "language"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "apiToken": []
          }
        ],
        "consumes": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "parameters": [
          {
            "name": "resource",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/resource"
            }
          },
          {
            "name": "Metadata-Api-Token",
            "in": "header",
            "type": "string",
            "required": true
          }
        ]
      }
    },
    "/resources/{id}": {
      "get": {
        "summary": "View the Resource with the given Id",
        "tags": [
          "Resource"
        ],
        "operationId": "getResourceWithId",
        "schemes": [
          "https"
        ],
        "produces": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "type": "string",
            "description": "The Resource object's Id",
            "required": true
          },
          {
            "name": "Metadata-Api-Token",
            "in": "header",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "400": {
            "description": "missing api token",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "400",
                    "code": "missing_api_token",
                    "title": "Missing API Token",
                    "detail": "No API token was provided in the Metadata-Api-Token header."
                  }
                ]
              }
            }
          },
          "403": {
            "description": "invalid api token",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "403",
                    "code": "invalid_api_token",
                    "title": "Invalid API Token",
                    "detail": "The API token provided in the Metadata-Api-Token header (67c8c27f316fcc7aeff9390e5fa304c9791d3404026233979069aa87808e92f4) is invalid."
                  }
                ]
              }
            }
          },
          "200": {
            "description": "success",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "data": {
                  "id": "989cde17-d668-4cf8-b138-1af86667fc59",
                  "type": "resource",
                  "attributes": {
                    "uri": "https://example.com/assessments/989cde17-d668-4cf8-b138-1af86667fc59",
                    "resource_type": "assessment",
                    "title": null,
                    "content": "iusto consequuntur maiores voluptas doloribus optio non nemo occaecati et",
                    "highlight": null
                  },
                  "relationships": {
                    "application": {
                      "data": {
                        "id": "318224d1-912a-428e-a153-a702f07334b1",
                        "type": "application"
                      }
                    },
                    "application_user": {
                      "data": {
                        "id": "c6e8a544-1034-4a77-9307-d7617e18891b",
                        "type": "application_user"
                      }
                    },
                    "format": {
                      "data": {
                        "id": "quis ut atque vero sapiente qui pariatur adipisci maiores rerum",
                        "type": "format"
                      }
                    },
                    "language": {
                      "data": {
                        "id": "porro voluptatem ex dolorem tempore eum asperiores debitis pariatur accusantium",
                        "type": "language"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "apiToken": []
          }
        ]
      },
      "delete": {
        "summary": "Delete the Resource with the given Id",
        "tags": [
          "Resource"
        ],
        "operationId": "deleteResourceWithId",
        "schemes": [
          "https"
        ],
        "produces": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "type": "string",
            "description": "The Resource object's Id",
            "required": true
          },
          {
            "name": "Metadata-Api-Token",
            "in": "header",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "400": {
            "description": "missing api token",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "400",
                    "code": "missing_api_token",
                    "title": "Missing API Token",
                    "detail": "No API token was provided in the Metadata-Api-Token header."
                  }
                ]
              }
            }
          },
          "403": {
            "description": "invalid api token",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "403",
                    "code": "invalid_api_token",
                    "title": "Invalid API Token",
                    "detail": "The API token provided in the Metadata-Api-Token header (7d7bcba9172af5fda232838f2cf0d238bebc14ad7c54c7eca55e433d79811e5b) is invalid."
                  }
                ]
              }
            }
          },
          "200": {
            "description": "resource deleted",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "data": {
                  "id": "989cde17-d668-4cf8-b138-1af86667fc59",
                  "type": "resource",
                  "attributes": {
                    "uri": "https://example.com/assessments/989cde17-d668-4cf8-b138-1af86667fc59",
                    "resource_type": "assessment",
                    "title": null,
                    "content": "iusto consequuntur maiores voluptas doloribus optio non nemo occaecati et",
                    "highlight": null
                  },
                  "relationships": {
                    "application": {
                      "data": {
                        "id": "318224d1-912a-428e-a153-a702f07334b1",
                        "type": "application"
                      }
                    },
                    "application_user": {
                      "data": {
                        "id": "c6e8a544-1034-4a77-9307-d7617e18891b",
                        "type": "application_user"
                      }
                    },
                    "format": {
                      "data": {
                        "id": "quis ut atque vero sapiente qui pariatur adipisci maiores rerum",
                        "type": "format"
                      }
                    },
                    "language": {
                      "data": {
                        "id": "porro voluptatem ex dolorem tempore eum asperiores debitis pariatur accusantium",
                        "type": "language"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "apiToken": []
          }
        ]
      },
      "post": {
        "summary": "Create a new Resource with the given Id",
        "tags": [
          "Resource"
        ],
        "operationId": "createResourceWithId",
        "schemes": [
          "https"
        ],
        "produces": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "type": "string",
            "description": "The Resource object's Id",
            "required": true
          },
          {
            "name": "resource",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/resource"
            }
          },
          {
            "name": "Metadata-Api-Token",
            "in": "header",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "400": {
            "description": "missing relationship id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "400",
                    "code": "missing_id",
                    "title": "Missing Id",
                    "detail": "The id member is required by this API endpoint."
                  }
                ]
              }
            }
          },
          "403": {
            "description": "forbidden application id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "403",
                    "code": "forbidden_application_id",
                    "title": "Forbidden Application Id",
                    "detail": "You are only allowed to provide your own application id (318224d1-912a-428e-a153-a702f07334b1)."
                  }
                ]
              }
            }
          },
          "409": {
            "description": "resource uuid already exists",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "409",
                    "code": "uuid_has_already_been_taken",
                    "title": "Resource Invalid",
                    "detail": "Uuid has already been taken."
                  },
                  {
                    "status": "409",
                    "code": "uri_has_already_been_taken",
                    "title": "Resource Invalid",
                    "detail": "Uri has already been taken."
                  }
                ]
              }
            }
          },
          "201": {
            "description": "Resource created",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "data": {
                  "id": "989cde17-d668-4cf8-b138-1af86667fc59",
                  "type": "resource",
                  "attributes": {
                    "uri": "https://example.com/assessments/989cde17-d668-4cf8-b138-1af86667fc59",
                    "resource_type": "assessment",
                    "title": null,
                    "content": "iusto consequuntur maiores voluptas doloribus optio non nemo occaecati et",
                    "highlight": null
                  },
                  "relationships": {
                    "application": {
                      "data": {
                        "id": "318224d1-912a-428e-a153-a702f07334b1",
                        "type": "application"
                      }
                    },
                    "application_user": {
                      "data": {
                        "id": "c6e8a544-1034-4a77-9307-d7617e18891b",
                        "type": "application_user"
                      }
                    },
                    "format": {
                      "data": {
                        "id": "quis ut atque vero sapiente qui pariatur adipisci maiores rerum",
                        "type": "format"
                      }
                    },
                    "language": {
                      "data": {
                        "id": "porro voluptatem ex dolorem tempore eum asperiores debitis pariatur accusantium",
                        "type": "language"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "apiToken": []
          }
        ],
        "consumes": [
          "application/vnd.api.metadata.a15k.org+json"
        ]
      },
      "put": {
        "summary": "Update the Resource with the given Id",
        "tags": [
          "Resource"
        ],
        "operationId": "updateResourceWithId",
        "schemes": [
          "https"
        ],
        "produces": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "type": "string",
            "description": "The Resource object's Id",
            "required": true
          },
          {
            "name": "resource",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/resource"
            }
          },
          {
            "name": "Metadata-Api-Token",
            "in": "header",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "400": {
            "description": "missing relationship id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "400",
                    "code": "missing_id",
                    "title": "Missing Id",
                    "detail": "The id member is required by this API endpoint."
                  }
                ]
              }
            }
          },
          "403": {
            "description": "forbidden application id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "403",
                    "code": "forbidden_application_id",
                    "title": "Forbidden Application Id",
                    "detail": "You are only allowed to provide your own application id (318224d1-912a-428e-a153-a702f07334b1)."
                  }
                ]
              }
            }
          },
          "409": {
            "description": "invalid relationship type",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "409",
                    "code": "invalid_application_type",
                    "title": "Invalid Application Type",
                    "detail": "The type provided for the application relationship (resource) is invalid."
                  }
                ]
              }
            }
          },
          "404": {
            "description": "not visible",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "404",
                    "code": "not_found",
                    "title": "Not Found",
                    "detail": "Couldn't find Resource"
                  }
                ]
              }
            }
          },
          "200": {
            "description": "resource updated",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "data": {
                  "id": "989cde17-d668-4cf8-b138-1af86667fc59",
                  "type": "resource",
                  "attributes": {
                    "uri": "https://example.com/assessments/48fbc732-1af8-47d9-98fb-44f963245c90",
                    "resource_type": "assessment",
                    "title": null,
                    "content": "laudantium et non illum repudiandae impedit id accusantium assumenda odit",
                    "highlight": null
                  },
                  "relationships": {
                    "application": {
                      "data": {
                        "id": "318224d1-912a-428e-a153-a702f07334b1",
                        "type": "application"
                      }
                    },
                    "application_user": {
                      "data": null
                    },
                    "format": {
                      "data": {
                        "id": "ea maxime doloremque rerum quo reprehenderit dolore ut tenetur sed",
                        "type": "format"
                      }
                    },
                    "language": {
                      "data": {
                        "id": "perspiciatis quisquam eaque quia beatae consequatur maiores sit qui porro",
                        "type": "language"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "apiToken": []
          }
        ],
        "consumes": [
          "application/vnd.api.metadata.a15k.org+json"
        ]
      },
      "patch": {
        "summary": "Update the Resource with the given Id",
        "tags": [
          "Resource"
        ],
        "operationId": "updateResourceWithId",
        "schemes": [
          "https"
        ],
        "produces": [
          "application/vnd.api.metadata.a15k.org+json"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "type": "string",
            "description": "The Resource object's Id",
            "required": true
          },
          {
            "name": "resource",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/resource"
            }
          },
          {
            "name": "Metadata-Api-Token",
            "in": "header",
            "type": "string",
            "required": true
          }
        ],
        "responses": {
          "400": {
            "description": "missing relationship id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "400",
                    "code": "missing_id",
                    "title": "Missing Id",
                    "detail": "The id member is required by this API endpoint."
                  }
                ]
              }
            }
          },
          "403": {
            "description": "forbidden application id",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "403",
                    "code": "forbidden_application_id",
                    "title": "Forbidden Application Id",
                    "detail": "You are only allowed to provide your own application id (318224d1-912a-428e-a153-a702f07334b1)."
                  }
                ]
              }
            }
          },
          "409": {
            "description": "invalid relationship type",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "409",
                    "code": "invalid_application_type",
                    "title": "Invalid Application Type",
                    "detail": "The type provided for the application relationship (resource) is invalid."
                  }
                ]
              }
            }
          },
          "404": {
            "description": "not visible",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "errors": [
                  {
                    "status": "404",
                    "code": "not_found",
                    "title": "Not Found",
                    "detail": "Couldn't find Resource"
                  }
                ]
              }
            }
          },
          "200": {
            "description": "resource updated",
            "schema": {
              "$ref": "#/definitions/resource"
            },
            "examples": {
              "application/json": {
                "data": {
                  "id": "989cde17-d668-4cf8-b138-1af86667fc59",
                  "type": "resource",
                  "attributes": {
                    "uri": "https://example.com/assessments/48fbc732-1af8-47d9-98fb-44f963245c90",
                    "resource_type": "assessment",
                    "title": null,
                    "content": "laudantium et non illum repudiandae impedit id accusantium assumenda odit",
                    "highlight": null
                  },
                  "relationships": {
                    "application": {
                      "data": {
                        "id": "318224d1-912a-428e-a153-a702f07334b1",
                        "type": "application"
                      }
                    },
                    "application_user": {
                      "data": null
                    },
                    "format": {
                      "data": {
                        "id": "ea maxime doloremque rerum quo reprehenderit dolore ut tenetur sed",
                        "type": "format"
                      }
                    },
                    "language": {
                      "data": {
                        "id": "perspiciatis quisquam eaque quia beatae consequatur maiores sit qui porro",
                        "type": "language"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "apiToken": []
          }
        ],
        "consumes": [
          "application/vnd.api.metadata.a15k.org+json"
        ]
      }
    }
  }
}